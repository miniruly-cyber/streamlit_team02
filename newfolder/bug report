항목: 프롬프트 입력창 자동 줄바꿈 미지원

현상: Enter 없이도 긴 텍스트가 여러 줄로 표시되지 않음, 시각적으로 한 줄로만 보임

기대 동작: 긴 프롬프트 작성 시 시각적 줄바꿈 지원 (GPT 스타일), Enter는 전송용

재현 방법: 긴 프롬프트 작성 → 한 줄로만 표시되는지 확인

비고: 기능적 오류는 아니며, UX 개선 필요

-| 항목 | 위치 | 문제점 / 주의사항 | 개선 제안 |
|------|------|------------------|-----------|
| 프롬프트 줄바꿈 | `render_chat_tab` | 입력창이 `st.text_input`으로 구현되어 있어 Enter 입력 시 줄바꿈 불가, 곧바로 전송됨 | `st.text_area` 사용으로 여러 줄 입력 지원, 전송은 버튼 또는 `Ctrl+Enter`로 제한 |
| API 키 체크 | `get_ai_response` | `st.session_state.api_key` 없으면 기본 템플릿만 반환 → LangChain 사용 시 오류 발생 가능 | API Key 미입력 시 “실제 응답을 받으려면 API Key 필요” 안내 메시지 추가 |
| 파일 첨부 | `get_ai_response` | `.docx` 처리 시 `DOC_LIBS_AVAILABLE=False`이면 모호한 오류 반환 | 라이브러리 미설치 시 “python-docx 설치 필요”와 같은 명확한 안내 제공 |
| 메시지 저장 | `save_conversation` | PDF 저장 시 줄바꿈 처리 부족 → 긴 텍스트에서 글자 겹침/레이아웃 깨짐 가능 | `Spacer` 활용, 스타일 개선하여 PDF 가독성 확보 |
| 하단 버튼 | CSS `.bottom-nav` | `position: fixed; width: 100%` 설정 → 모바일/작은 화면에서 겹침 가능 | 반응형 CSS 적용, `padding`/`z-index` 조정 |
| 탭 선택 | `render_header` | `selectbox` 탭 변경 시 즉시 `st.rerun()` 발생 → 불필요한 rerun 반복 | 조건부 rerun 또는 상태 비교 후 rerun 수행 |
| 입력 처리 | `render_chat_tab` | 사용자가 빈 입력 전송 시도해도 필터링 없음 | 공백/빈 문자열 입력 방지 로직 추가 |
| 텍스트 길이 | `get_ai_response` | `max_length` 값이 실제 OpenAI 토큰 제한과 불일치 가능 | `tiktoken` 기반 토큰 계산 적용 고려 |
| 예외 처리 | `get_ai_response` | 모든 예외를 단순 문자열로 반환 → 디버깅 어려움 | 내부 로깅 추가, 사용자 메시지는 간단 안내로 분리 |
